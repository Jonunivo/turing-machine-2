<!DOCTYPE html>
<html>

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>TuringMachine</title>

        <link rel="stylesheet" href="styles/styles.css">

    </head>

    <body>
        <h1 id="head-title">TuringMachine Simulator</h1>
    
        <div id="cytoscape"></div>
        <div id="cytoscape-tape"></div>

        <div class="arrow-down"></div>

        <button id="move-tape-left">Move Tape Left</button>
        <button id="move-tape-right">Move Tape Right</button>

        <input type="text" id="tape-input-field" required>
        <button id="tape-input">Write on Tape</button>


        <button id="runSimulationButton">Run Simulation</button>
        
        <button id="stepSimulationButton">Step Simulation</button>
        <button id="resetSimulationButton">Reset Simulation</button>
        
        <div id="simulationSpeeddiv">
            <input type="range" min="1" max="10" step=0.01 value="2" class="slider" id="simulationSpeed">
            <label for="simulationSpeed">Simulation Speed</label>
        </div>
        <!-- Preset -->

        <div id="choosePreset" class="optionMenu">
            <select id="presetSelect" name="preset">
                <option value="empty" selected>No Preset</option>
                <option value="PresetOne">add one binary</option>
            </select>
        </div>

        <!-- Save/Load -->
        <div id="saveLoad">
            <input id="fileInput" type="file" accept=".json">
            <button id="saveButton" class="button">Save current build</button>
        </div>


        <!-- Save Modal -->
        <div id="saveModal" class="modal">
            <div id="saveModalContent" class="modal-content">
                <h2>Enter a filename for the downloaded file:</h2>
                <div>
                    <label id="saveTapeContent" for="filenameInput">filename: </label>            
                    <input type="text" id="filenameInput" placeholder="MyTuringMachine.json">

                </div>
                <div>
                    <input type="checkbox" class="basic-checkbox" id="saveTape">
                    <label id="saveTapeCheckbox" for="saveTape">also save tape?</label>
                </div>
                <br>
                <button id="saveConfirm">Save</button>
                <button id="cancelButton3">Cancel</button>
            </div>
        </div>



        <!-- Node Creation -->
        <div id="nodeModal" class="modal">
            <div id="nodeModalContent" class="modal-content">
                <h3>Node Properties</h3>
                <label for="stateName">Node Name:</label>
                <input type="text" id="stateName">
                <div class="checkbox-div">
                    <input type="checkbox" id="stateStarting" class="fancy-checkbox" name="startingState" value="false" required checked>
                    <label class="checkboxLabel" for="stateStarting">Starting?</label>
                </div>
                <div class="checkbox-div">
                    <input type="checkbox" id="stateAccepting" class="fancy-checkbox" name="acceptingState" value="true" required>
                    <label class="checkboxLabel" for="stateAccepting">Accepting?</label>
                </div>
                <div class="checkbox-div">
                    <input type="checkbox" id="stateRejecting" class="fancy-checkbox" name="rejectingState" value="true" required>
                    <label class="checkboxLabel" for="stateRejecting">Rejecting?</label>
                </div>
                
                <br>
                <div class="submit-button-div">
                    <button id="nodeButton" type="button">Create Node</button>
                </div>
                <div id="deleteNodeDiv">
                    <!-- cytoscape.js will insert a delete button here -->
                </div>
                <div class="cancel-button-div">
                    <button id="cancelButton" type="button">cancel</button>
                </div>
            </div>
        </div>
        <!-- Edge Creation -->
        <div id="edgeModal" class="modal">
            <div id="edgeModalContent" class="modal-content">
                <h3>Edge Properties</h3>
                <div id="fromStateDiv"></div>
                <label for="toState">To State:</label>
                <select id="toState"></select>
                
                <br>
                <label for="readLabel">When reading label</label>
                <input type="text" id="readLabel">
                <br>
                <label for="writeLabel">Write Label?</label>
                <input type="text" id="writeLabel">
                <br>
                <div class="slider-div">
                    <label for="tapeMovement">Tape Movement</label>
                    <input type="range" id="tapeMovement" min="-1" max="1" step="1" value="0">
                </div>
                
                
                <br>
                <div class="submit-button-div">
                    <button id="edgeButton" type="button">Create Edge</button>
                </div>
                <div id="deleteEdgeDiv">
                    <!-- cytoscape.js will insert a delete button here -->
                </div>
                <div class="cancel-button-div">
                    <button id="cancelButton2" type="button">cancel</button>
                </div>
            </div>
        </div>


        <footer>
            doubleclick to create Node, 
            <br>
            right click on node to edit Node,
            <br>
            click on node to create Edge, 
            <br>
            click on edge to edit Edge
            <br>
            <br>
            Note: this is a developer build, some things might not yet be working as intended
            <br>
            <a href="prototype/">Prototype</a>
        </footer>

        
        

        <!--- links to the scripts -->
        <script>
            // Disable the default context menu on the entire document (right click)
            document.addEventListener('contextmenu', function(event) {
                event.preventDefault();
            });
        </script>
        
        <!-- modules -->
        <script type="module" src="./modules/State.js" ></script>
        <script type="module" src="./modules/TuringMachine.js" ></script>


        <script type="module" src="./modules/Cytoscape.js"></script>
        <script type="module" src="./modules/CytoscapeTape.js"></script>

        <script type="module" src="./modules/UserInput.js"></script>
        <script type="module" src="./modules/UserEdit.js"></script>



        <script type="module" src="./modules/Presets.js"></script>
        <script type="module" src="./modules/Simulation.js"></script>

        <script type="module" src="./modules/SaveLoad.js"></script>


    </body>

</html>